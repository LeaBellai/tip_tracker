
<!-- notice -->
<p id="notice"><%= notice %></p>

<!-- adding graph-->
<div class="row">
  <div class= "col-md-2"></div>
  <figure class="chart">
    <canvas id="chart-0" width=1000 height=500></canvas>
    <!-- legend rendered here -->
  </figure>
  <script type="text/javascript">
    (function() {
      var initChart = function() {
        var data = 
        {
            labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
            datasets: [
                {
                    label: "My First dataset",
                    fillColor: "rgba(220,220,220,0.2)",
                    strokeColor: "rgba(220,220,220,1)",
                    pointColor: "rgba(220,220,220,1)",
                    pointStrokeColor: "#fff",
                    pointHighlightFill: "#fff",
                    pointHighlightStroke: "rgba(220,220,220,1)",
                    data: [ <%= @tip.monday_amount %>, <%= @tip.tuesday_amount %>, <%= @tip.wednesday_amount %>, <%= @tip.thursday_amount %>,
                    <%= @tip.friday_amount %>, <%= @tip.saturday_amount %>, <%= @tip.sunday_amount %>]
                },
            ]
        }
        var opts = {"scaleFontSize":15};
        if (!("animation" in opts)) {
          opts['animation'] = (typeof Modernizr == "undefined") || Modernizr.canvas;
        }
        var canvas = document.getElementById("chart-0");
        var ctx = canvas.getContext('2d');
        var chart = new Chart(ctx).Bar(data, opts);
        window.Chart["chart-0"] = chart;

        //creating graph without legend
        //var legend = chart.generateLegend();
        //var legendHolder = document.createElement("div");
        //legendHolder.innerHTML = legend;
        //canvas.parentNode.insertBefore(legendHolder.firstChild, canvas.nextSibling);
      };
      if (typeof Chart !== "undefined" && Chart !== null) {
        initChart();
      }
      else {
        if (window.addEventListener) {
          window.addEventListener("load", initChart, false);
        }
        else if (window.attachEvent) {
          window.attachEvent("onload", initChart);
        }
      }
    })();
  </script>
</div>



<!-- tips field-->
<p>
  <strong>Start date:</strong>
  <%= @tip.start_date %>
</p>

<p>
  <strong>End date:</strong>
  <%= @tip.end_date %>
</p>

<p>
  <strong>Monday amount:</strong>
  <%= @tip.monday_amount %>
</p>

<p>
  <strong>Tuesday amount:</strong>
  <%= @tip.tuesday_amount %>
</p>

<p>
  <strong>Wednesday amount:</strong>
  <%= @tip.wednesday_amount %>
</p>

<p>
  <strong>Thursday amount:</strong>
  <%= @tip.thursday_amount %>
</p>

<p>
  <strong>Friday amount:</strong>
  <%= @tip.friday_amount %>
</p>

<p>
  <strong>Saturday amount:</strong>
  <%= @tip.saturday_amount %>
</p>

<p>
  <strong>Sunday amount:</strong>
  <%= @tip.sunday_amount %>
</p>

<%= link_to 'Edit', edit_tip_path(@tip) %> |
<%= link_to 'Back', tips_path %>
